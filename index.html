<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Escape Game Technologie - Classe de 3√®me</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        :root {
            --primary-color: #6C63FF;
            --secondary-color: #FF6584;
            --success-color: #28a745;
            --error-color: #dc3545;
            --background-color: #f8f9fa;
            --card-color: #ffffff;
        }
        body {
            font-family: Arial, sans-serif;
            background-color: var(--background-color);
            margin: 0;
            padding: 20px;
            color: #333;
            line-height: 1.6;
        }
        .container {
            max-width: 800px;
            margin: 0 auto;
            background-color: var(--card-color);
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }
        h1, h2 {
            color: var(--primary-color);
        }
        .home-page {
            text-align: center;
        }
        .theme-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
            margin: 20px 0;
        }
        .theme-card-home {
            background-color: var(--card-color);
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 20px;
            cursor: pointer;
            transition: transform 0.2s;
        }
        .theme-card-home:hover {
            transform: scale(1.02);
        }
        .theme-card-home.locked {
            background-color: #f0f0f0;
            cursor: not-allowed;
            opacity: 0.7;
        }
        .theme-card {
            background-color: var(--card-color);
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 20px;
            display: none;
        }
        .question {
            margin-bottom: 15px;
            padding: 10px;
            border-left: 3px solid var(--secondary-color);
            background-color: #f9f9f9;
        }
        .answer-input {
            width: 100%;
            padding: 8px;
            margin: 5px 0;
            border: 1px solid #ccc;
            border-radius: 4px;
        }
        .validate-btn {
            background-color: var(--primary-color);
            color: white;
            border: none;
            padding: 8px 12px;
            border-radius: 4px;
            cursor: pointer;
        }
        .feedback {
            margin-top: 5px;
            font-weight: bold;
        }
        .success {
            color: var(--success-color);
        }
        .error {
            color: var(--error-color);
        }
        .code-display {
            text-align: center;
            margin: 15px 0;
            font-weight: bold;
            color: var(--success-color);
            display: none;
        }
        .next-btn {
            display: block;
            margin: 20px auto;
            padding: 10px 20px;
            background-color: var(--success-color);
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            display: none;
        }
        .final-room {
            text-align: center;
            display: none;
        }
        .victory {
            text-align: center;
            color: var(--success-color);
            font-size: 1.5em;
            margin: 20px 0;
            display: none;
        }
        .back-btn {
            display: block;
            margin: 20px auto;
            padding: 10px 20px;
            background-color: #6c757d;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Page d'accueil avec les th√®mes -->
        <div id="homePage" class="home-page">
            <h1>Escape Game Technologie</h1>
            <p>Cliquez sur un th√®me pour commencer.</p>
            <div class="theme-grid">
                <div class="theme-card-home" onclick="startTheme(0)">
                    <h2>Th√®me 1 : Innovations de Rupture</h2>
                    <p><i class="fas fa-lightbulb"></i></p>
                </div>
                <div class="theme-card-home locked" id="theme1">
                    <h2>Th√®me 2 : Cybers√©curit√©</h2>
                    <p><i class="fas fa-shield-alt"></i></p>
                </div>
                <div class="theme-card-home locked" id="theme2">
                    <h2>Th√®me 3 : D√©veloppement Durable</h2>
                    <p><i class="fas fa-leaf"></i></p>
                </div>
                <div class="theme-card-home locked" id="theme3">
                    <h2>Th√®me 4 : Exp√©rience Utilisateur</h2>
                    <p><i class="fas fa-user"></i></p>
                </div>
            </div>
        </div>

        <!-- Th√®me 1 -->
        <div id="room0" class="theme-card">
            <h2>Th√®me 1 : Innovations de Rupture</h2>
            <div id="questions0">
                <div class="question">
                    <p><strong>Question 1 :</strong> Quelle innovation a permis de passer du t√©l√©phone fixe au mobile ?</p>
                    <input type="text" class="answer-input" id="answer0-0" placeholder="Votre r√©ponse" />
                    <button class="validate-btn" onclick="checkAnswer(0, 0, 'portabilit√©')">Valider</button>
                    <div id="feedback0-0" class="feedback"></div>
                </div>
                <div class="question">
                    <p><strong>Question 2 :</strong> En quelle ann√©e le premier iPhone est-il sorti ?</p>
                    <input type="text" class="answer-input" id="answer0-1" placeholder="Votre r√©ponse" />
                    <button class="validate-btn" onclick="checkAnswer(0, 1, '2007')">Valider</button>
                    <div id="feedback0-1" class="feedback"></div>
                </div>
                <div class="question">
                    <p><strong>Question 3 :</strong> Comment appelle-t-on une innovation qui change radicalement un march√© ?</p>
                    <input type="text" class="answer-input" id="answer0-2" placeholder="Votre r√©ponse" />
                    <button class="validate-btn" onclick="checkAnswer(0, 2, 'rupture')">Valider</button>
                    <div id="feedback0-2" class="feedback"></div>
                </div>
                <div class="question">
                    <p><strong>Question 4 :</strong> Quelle est la famille de mat√©riaux la plus l√©g√®re ?</p>
                    <input type="text" class="answer-input" id="answer0-3" placeholder="Votre r√©ponse" />
                    <button class="validate-btn" onclick="checkAnswer(0, 3, 'plastique')">Valider</button>
                    <div id="feedback0-3" class="feedback"></div>
                </div>
            </div>
            <div id="secret-code0" class="code-display"></div>
            <button id="next0" class="next-btn" onclick="nextRoom(0)">Pi√®ce suivante ‚Üí</button>
            <button class="back-btn" onclick="backToHome()">Retour √† l'accueil</button>
        </div>

        <!-- Th√®me 2 -->
        <div id="room1" class="theme-card">
            <h2>Th√®me 2 : Cybers√©curit√©</h2>
            <div id="questions1">
                <div class="question">
                    <p><strong>Question 1 :</strong> Comment appelle-t-on un programme malveillant ?</p>
                    <input type="text" class="answer-input" id="answer1-0" placeholder="Votre r√©ponse" />
                    <button class="validate-btn" onclick="checkAnswer(1, 0, 'virus')">Valider</button>
                    <div id="feedback1-0" class="feedback"></div>
                </div>
                <div class="question">
                    <p><strong>Question 2 :</strong> Combien de caract√®res minimum pour un mot de passe s√ªr ?</p>
                    <input type="text" class="answer-input" id="answer1-1" placeholder="Votre r√©ponse" />
                    <button class="validate-btn" onclick="checkAnswer(1, 1, '12')">Valider</button>
                    <div id="feedback1-1" class="feedback"></div>
                </div>
                <div class="question">
                    <p><strong>Question 3 :</strong> Comment s'appelle l'usurpation d'identit√© par email ?</p>
                    <input type="text" class="answer-input" id="answer1-2" placeholder="Votre r√©ponse" />
                    <button class="validate-btn" onclick="checkAnswer(1, 2, 'phishing')">Valider</button>
                    <div id="feedback1-2" class="feedback"></div>
                </div>
                <div class="question">
                    <p><strong>Question 4 :</strong> Quelle technique crypte un fichier ?</p>
                    <input type="text" class="answer-input" id="answer1-3" placeholder="Votre r√©ponse" />
                    <button class="validate-btn" onclick="checkAnswer(1, 3, 'chiffrement')">Valider</button>
                    <div id="feedback1-3" class="feedback"></div>
                </div>
            </div>
            <div id="secret-code1" class="code-display"></div>
            <button id="next1" class="next-btn" onclick="nextRoom(1)">Pi√®ce suivante ‚Üí</button>
            <button class="back-btn" onclick="backToHome()">Retour √† l'accueil</button>
        </div>

        <!-- Th√®me 3 -->
        <div id="room2" class="theme-card">
            <h2>Th√®me 3 : D√©veloppement Durable</h2>
            <div id="questions2">
                <div class="question">
                    <p><strong>Question 1 :</strong> Combien de piliers du d√©veloppement durable ?</p>
                    <input type="text" class="answer-input" id="answer2-0" placeholder="Votre r√©ponse" />
                    <button class="validate-btn" onclick="checkAnswer(2, 0, '3')">Valider</button>
                    <div id="feedback2-0" class="feedback"></div>
                </div>
                <div class="question">
                    <p><strong>Question 2 :</strong> Sur combien est not√© l'indice de r√©parabilit√© ?</p>
                    <input type="text" class="answer-input" id="answer2-1" placeholder="Votre r√©ponse" />
                    <button class="validate-btn" onclick="checkAnswer(2, 1, '10')">Valider</button>
                    <div id="feedback2-1" class="feedback"></div>
                </div>
                <div class="question">
                    <p><strong>Question 3 :</strong> Quel m√©tal pr√©cieux dans les smartphones ?</p>
                    <input type="text" class="answer-input" id="answer2-2" placeholder="Votre r√©ponse" />
                    <button class="validate-btn" onclick="checkAnswer(2, 2, 'or')">Valider</button>
                    <div id="feedback2-2" class="feedback"></div>
                </div>
                <div class="question">
                    <p><strong>Question 4 :</strong> Quelle √©nergie provient du soleil ?</p>
                    <input type="text" class="answer-input" id="answer2-3" placeholder="Votre r√©ponse" />
                    <button class="validate-btn" onclick="checkAnswer(2, 3, 'solaire')">Valider</button>
                    <div id="feedback2-3" class="feedback"></div>
                </div>
            </div>
            <div id="secret-code2" class="code-display"></div>
            <button id="next2" class="next-btn" onclick="nextRoom(2)">Pi√®ce suivante ‚Üí</button>
            <button class="back-btn" onclick="backToHome()">Retour √† l'accueil</button>
        </div>

        <!-- Th√®me 4 -->
        <div id="room3" class="theme-card">
            <h2>Th√®me 4 : Exp√©rience Utilisateur</h2>
            <div id="questions3">
                <div class="question">
                    <p><strong>Question 1 :</strong> Comment s'appelle l'√©tude de l'adaptation √† l'humain ?</p>
                    <input type="text" class="answer-input" id="answer3-0" placeholder="Votre r√©ponse" />
                    <button class="validate-btn" onclick="checkAnswer(3, 0, 'ergonomie')">Valider</button>
                    <div id="feedback3-0" class="feedback"></div>
                </div>
                <div class="question">
                    <p><strong>Question 2 :</strong> Combien de clics max pour acc√©der √† une info ?</p>
                    <input type="text" class="answer-input" id="answer3-1" placeholder="Votre r√©ponse" />
                    <button class="validate-btn" onclick="checkAnswer(3, 1, '3')">Valider</button>
                    <div id="feedback3-1" class="feedback"></div>
                </div>
                <div class="question">
                    <p><strong>Question 3 :</strong> Comment s'appelle le document qui liste les exigences ?</p>
                    <input type="text" class="answer-input" id="answer3-2" placeholder="Votre r√©ponse" />
                    <button class="validate-btn" onclick="checkAnswer(3, 2, 'cahier des charges')">Valider</button>
                    <div id="feedback3-2" class="feedback"></div>
                </div>
                <div class="question">
                    <p><strong>Question 4 :</strong> Quelle couleur pour les boutons de validation ?</p>
                    <input type="text" class="answer-input" id="answer3-3" placeholder="Votre r√©ponse" />
                    <button class="validate-btn" onclick="checkAnswer(3, 3, 'vert')">Valider</button>
                    <div id="feedback3-3" class="feedback"></div>
                </div>
            </div>
            <div id="secret-code3" class="code-display"></div>
            <button id="next3" class="next-btn" onclick="nextRoom(3)">Pi√®ce finale ‚Üí</button>
            <button class="back-btn" onclick="backToHome()">Retour √† l'accueil</button>
        </div>

        <!-- Pi√®ce finale -->
        <div class="final-room" id="finalRoom">
            <h2>Pi√®ce Finale : D√©codage</h2>
            <p>F√©licitations ! Vous avez termin√© tous les th√®mes.</p>
            <p>Codes secrets obtenus :</p>
            <ul id="allCodes"></ul>
            <div class="victory" id="victory">
                <h2>üéâ Bravo ! Vous avez r√©ussi l'escape game ! üéâ</h2>
            </div>
            <button class="back-btn" onclick="backToHome()">Retour √† l'accueil</button>
        </div>
    </div>

    <script>
        // Codes secrets pour chaque th√®me
        const codes = ["INNO2026", "SECU2026", "DURA2026", "ERGO2026"];
        const MAGIC_CODE = "MAGIC2026";
        let correctAnswers = [[false, false, false, false], [false, false, false, false], [false, false, false, false], [false, false, false, false]];
        let currentTheme = -1;

        // D√©marrer un th√®me
        function startTheme(themeIndex) {
            if (themeIndex === 0 || (themeIndex > 0 && document.getElementById(`theme${themeIndex - 1}`).classList.contains('locked') === false)) {
                document.getElementById('homePage').style.display = 'none';
                document.getElementById(`room${themeIndex}`).style.display = 'block';
                currentTheme = themeIndex;
            }
        }

        // Retour √† l'accueil
        function backToHome() {
            document.querySelectorAll('.theme-card').forEach(el => el.style.display = 'none');
            document.getElementById('homePage').style.display = 'block';
        }

        // V√©rifier une r√©ponse
        function checkAnswer(roomIndex, questionIndex, correctAnswer) {
            const userAnswer = document.getElementById(`answer${roomIndex}-${questionIndex}`).value;
            const feedback = document.getElementById(`feedback${roomIndex}-${questionIndex}`);

            if (userAnswer === MAGIC_CODE || userAnswer.toLowerCase() === correctAnswer) {
                feedback.innerHTML = '<span class="success">‚úì Bonne r√©ponse !</span>';
                correctAnswers[roomIndex][questionIndex] = true;
                checkAllAnswers(roomIndex);
            } else {
                feedback.innerHTML = '<span class="error">‚úó Mauvaise r√©ponse. R√©essayez !</span>';
            }
        }

        // V√©rifier si toutes les r√©ponses d'un th√®me sont correctes
        function checkAllAnswers(roomIndex) {
            if (correctAnswers[roomIndex].every(answer => answer)) {
                document.getElementById(`secret-code${roomIndex}`).textContent = `Code secret : ${codes[roomIndex]}`;
                document.getElementById(`secret-code${roomIndex}`).style.display = 'block';
                document.getElementById(`next${roomIndex}`).style.display = 'block';
                if (roomIndex < 3) {
                    document.getElementById(`theme${roomIndex}`).classList.remove('locked');
                }
            }
        }

        // Passer √† la pi√®ce suivante
        function nextRoom(roomIndex) {
            document.getElementById(`room${roomIndex}`).style.display = 'none';
            if (roomIndex < 3) {
                document.getElementById('homePage').style.display = 'block';
            } else {
                document.getElementById('finalRoom').style.display = 'block';
                let codesList = document.getElementById('allCodes');
                codesList.innerHTML = '';
                codes.forEach(code => {
                    let li = document.createElement('li');
                    li.textContent = code;
                    codesList.appendChild(li);
                });
                document.getElementById('victory').style.display = 'block';
            }
        }
    </script>
</body>
</html>
